<!DOCTYPE html>
<html>
<head>
    <title>Accurent</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/customized.css">
    <link rel="stylesheet" href="/css/simple-sidebar.css">
    <link rel="stylesheet" href="/css/details.css">
    <link rel="stylesheet" href="/css/image-gallery.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js"></script>
</head>
<body>
  <div id="wrapper">
    <div id="sidebar-wrapper">
      <ul className="sidebar-nav">
        <li className="sidebar-brand">
          <a href="#">
            Profile Pic
          </a>
        </li>
        <li>
          <a href="#">Inbox</a>
        </li>
        <li>
          <a href="#">Saved List</a>
        </li>
        <li>
          <a href="#">Profile</a>
        </li>
        <li>
          <a href="#">Preferences</a>
        </li>
      </ul>
    </div>
    <div id="page-content-wrapper">
      <div className="toggle-button"><a href="#menu-toggle" className="btn btn-default" id="menu-toggle">Toggle Menu</a></div>
      <div className="container-fluid">
        <div className="row">
          <h1> Suggested Listings for You </h1>
          <img src="<%= img1 %>"></img>
        </div>
      </div>
    </div>
    <div class="btn btn-default detail-button"><a href="#detail-toggle" class="toggle" id="detail-toggle" onclick="deetsTog()">Toggle Details</a></div>
    <div id="details" class="container-fluid">
      <div class="car">

           <!--  CAROUSEL  -->
           <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
            <!-- Indicators -->
            <ol class="carousel-indicators">
              <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
              <li data-target="#carousel-example-generic" data-slide-to="1"></li>
              <li data-target="#carousel-example-generic" data-slide-to="2"></li>
            </ol>
            <!-- Wrapper for slides -->
            <div class="carousel-inner" role="listbox">
              <div class="item active">
                <img src="..." alt="...">
                <div class="carousel-caption">
                  ...
                </div>
              </div>
              <div class="item">
                <img src="..." alt="...">
                <div class="carousel-caption">
                  ...
                </div>
              </div>
              ...
            </div>
            <!-- Controls -->
            <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
              <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
              <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>
      </div>
      <div class="mp">
          <!--  MAP  -->
          <div id="map"></div>

      </div>
    </div>
  </div>
  </div>
  <div>
    <p>WE LIST NOW</p>
  </div>

<script>
 function deetsTog() {

     var dt = document.getElementById('detail-toggle');
     console.log("deets: ", dt.classList.contains('toggle'));
     var d = document.getElementById('details');
     if (dt.className == 'toggle'){
         console.log("if deets");
         d.setAttribute('style', '');
         dt.setAttribute('class','toggled');
         initMap();
     } else if (dt.className == 'toggled') {
         console.log("else deets");
         d.setAttribute('style', 'display:none;');
         dt.setAttribute('class','toggle');
         dt.setAttribute('style', 'color:red;');
     }
 }
 function initMap() {
      console.log("MAP: ", {lat: <%= lat %>, lng: <%= lng %>});
     var myLatLng = {lat: <%= lat %>, lng: <%= lng %>};
     // Specify features and elements to define styles.
     var styleArray = [
      {
        featureType: "all",
        stylers: [
         { saturation: -80 }
        ]
      },{
        featureType: "road.arterial",
        elementType: "geometry",
        stylers: [
          { hue: "#00ffee" },
          { saturation: 50 }
        ]
      },{
        featureType: "poi.business",
        elementType: "labels",
        stylers: [
          { visibility: "off" }
        ]
      }
     ];

     // Create a map object and specify the DOM element for display.
     var map = new google.maps.Map(document.getElementById('map'), {
      center: {lat: <%= lat %>, lng: <%= lng %>},
      scrollwheel: false,
      // Apply the map style array to the map.
      styles: styleArray,
      zoom: 8
     });
 }

</script>
</body>
</html>
